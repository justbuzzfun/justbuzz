<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TITAN SNIPER (HELIUS)</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #000; color: #fff; font-family: 'Roboto Mono', monospace; padding: 20px; }
        
        .header { border-bottom: 2px solid #00ff41; padding-bottom: 15px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 22px; color: #00ff41; font-weight: bold; text-shadow: 0 0 10px #00ff41; }
        .status-badge { font-size: 12px; color: #888; border: 1px solid #333; padding: 5px 10px; border-radius: 5px; }

        #feed { display: flex; flex-direction: column; gap: 12px; }
        
        /* CARD STYLES */
        .card { background: #0a0a0a; border: 1px solid #333; padding: 15px; border-radius: 8px; animation: slideIn 0.3s ease-out; position: relative; }
        .card.safe { border-left: 5px solid #00ff41; box-shadow: 0 0 20px rgba(0, 255, 65, 0.1); }
        .card.danger { border-left: 5px solid #ff0055; opacity: 0.7; }

        .row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 13px; }
        .token-addr { color: #00bcd4; font-family: monospace; letter-spacing: 1px; }
        
        /* BADGES */
        .badge { padding: 3px 6px; border-radius: 3px; font-size: 10px; color: #000; font-weight: bold; }
        .safe-badge { background: #00ff41; }
        .danger-badge { background: #ff0055; color: #fff; }

        /* BUTTON */
        .buy-btn { width: 100%; background: #00ff41; color: #000; border: none; padding: 12px; font-weight: bold; cursor: pointer; margin-top: 10px; text-transform: uppercase; border-radius: 4px; font-size: 16px; transition: 0.2s; }
        .buy-btn:hover { background: #fff; box-shadow: 0 0 15px #fff; }

        @keyframes slideIn { from { transform: translateY(-10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        #loading { text-align: center; color: #444; margin-top: 50px; font-size: 12px; }
    </style>
</head>
<body>

    <div class="header">
        <div class="logo">‚ö° TITAN SNIPER</div>
        <div class="status-badge" id="status">CONNECTING TO HELIUS...</div>
    </div>

    <div id="feed">
        <div id="loading">WAITING FOR NEW LIQUIDITY POOLS...</div>
    </div>

    <audio id="alertSound" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"></audio>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        const feed = document.getElementById('feed');
        const alertSound = document.getElementById('alertSound');
        const loading = document.getElementById('loading');

        socket.on('status', (data) => {
            document.getElementById('status').innerText = data.msg;
            document.getElementById('status').style.borderColor = "#00ff41";
            document.getElementById('status').style.color = "#00ff41";
        });

        socket.on('god-signal', (data) => {
            // ÿ≠ÿ∞ŸÅ Ÿæ€åÿßŸÖ ÿßŸÜÿ™ÿ∏ÿßÿ±
            loading.style.display = 'none';

            const isSafe = data.score === 100;
            if(isSafe) {
                alertSound.currentTime = 0;
                alertSound.play().catch(()=>{});
            }

            const card = document.createElement('div');
            card.className = `card ${isSafe ? 'safe' : 'danger'}`;
            
            // ŸÑ€åŸÜ⁄© ÿÆÿ±€åÿØ ÿØÿ± Photon (ÿ≥ÿ±€åÿπÿ™ÿ±€åŸÜ ŸæŸÑÿ™ŸÅÿ±ŸÖ)
            const photonLink = `https://photon-sol.tinyastro.io/en/lp/${data.address}`;

            card.innerHTML = `
                <div class="row">
                    <span class="token-addr">${data.address.substring(0,6)}...${data.address.substring(data.address.length-4)}</span>
                    <span style="font-weight:bold; color:${isSafe?'#00ff41':'#ff0055'}">SCORE: ${data.score}</span>
                </div>
                
                <div class="row">
                    <span>Mint Auth:</span>
                    <span class="badge ${data.mintAuth.includes('SAFE') ? 'safe-badge' : 'danger-badge'}">${data.mintAuth}</span>
                </div>
                <div class="row">
                    <span>Freeze Auth:</span>
                    <span class="badge ${data.freezeAuth.includes('SAFE') ? 'safe-badge' : 'danger-badge'}">${data.freezeAuth}</span>
                </div>
                <div class="row">
                    <span>LP Status:</span>
                    <span style="color:#ccc; font-size:10px;">${data.lpStatus || 'Checking...'}</span>
                </div>
                
                ${isSafe ? `<button class="buy-btn" onclick="window.open('${photonLink}', '_blank')">üöÄ APE IN (PHOTON)</button>` : '<div style="text-align:center; color:#ff0055; margin-top:5px; font-weight:bold; font-size:12px;">‚ö†Ô∏è UNSAFE CONTRACT</div>'}
            `;
            
            feed.prepend(card);
            
            // Ÿæÿß⁄© ⁄©ÿ±ÿØŸÜ ŸÇÿØ€åŸÖ€å‚ÄåŸáÿß ÿ®ÿ±ÿß€å ÿ≥ÿ®⁄©€å
            if(feed.children.length > 20) feed.removeChild(feed.lastChild);
        });
    </script>
</body>
</html>
