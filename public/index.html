<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Update...</title>
    <style>
        body { background-color: #000; color: #0f0; font-family: 'Courier New', monospace; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; text-align: center; }
        
        /* 1. HOME SCREEN (ŸÅÿ±Ÿàÿ¥⁄ØÿßŸá) */
        #home-screen { display: none; width: 100%; max-width: 400px; }
        .logo { font-size: 40px; margin-bottom: 20px; animation: glitch 1s infinite; }
        .input-box { background: #111; border: 2px solid lime; color: #fff; padding: 15px; width: 80%; font-size: 18px; text-align: center; margin-bottom: 10px; border-radius: 5px;}
        .create-btn { background: lime; color: #000; font-weight: bold; padding: 15px 30px; border: none; font-size: 20px; cursor: pointer; width: 90%; border-radius: 5px; animation: pulse 2s infinite;}
        
        /* 2. PRANK SCREEN (ÿµŸÅÿ≠Ÿá Ÿàÿ≠ÿ¥ÿ™) */
        #prank-screen { display: none; width: 100%; height: 100%; position: absolute; top: 0; left: 0; background: red; z-index: 999; flex-direction: column; align-items: center; justify-content: center;}
        .scary-text { font-size: 30px; font-weight: bold; color: yellow; background: #000; padding: 10px; border: 5px solid yellow; transform: rotate(-5deg); margin-bottom: 20px;}
        .victim-msg { font-size: 20px; color: #fff; font-weight: bold; text-shadow: 2px 2px 0 #000; margin-bottom: 30px;}
        .revenge-btn { background: #fff; color: red; font-weight: bold; padding: 20px; text-decoration: none; border-radius: 10px; border: 3px solid #000; font-size: 18px; box-shadow: 5px 5px 0 #000;}

        /* 3. FAKE LOADING (ÿßŸàŸÑÿ¥ ÿßŸÑ⁄©€å ŸÑŸàÿØ ŸÖ€åÿ¥Ÿá) */
        #loading-screen { display: none; }
        .loader { border: 5px solid #333; border-top: 5px solid #fff; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin-bottom: 20px;}

        /* ANIMATIONS */
        .shake { animation: shake 0.1s infinite; }
        @keyframes shake { 0% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); } 20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); } 40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); } 60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); } 80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); } 100% { transform: translate(1px, -2px) rotate(-1deg); } }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes glitch { 0% { opacity: 1; } 50% { opacity: 0.8; } 100% { opacity: 1; } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

    <!-- ÿµŸÅÿ≠Ÿá ÿßŸàŸÑ: ÿ≥ÿßÿÆÿ™ ŸÑ€åŸÜ⁄© (ÿ®ÿ±ÿß€å ÿ¥⁄©ÿßÿ±⁄Ü€å) -->
    <div id="home-screen">
        <div class="logo">‚ò†Ô∏è PRANK VIRUS</div>
        <p>Scare your friends with a FAKE HACK!</p>
        <p style="font-size: 12px; color: #888;">Enter your name to create a link:</p>
        
        <input type="text" id="nameInput" class="input-box" placeholder="Your Name (e.g. Ali)">
        <button class="create-btn" onclick="generateLink()">GET LINK üîó</button>
        
        <div id="resultArea" style="display:none; margin-top: 20px; background: #222; padding: 10px; border: 1px dashed #fff;">
            <p style="color: yellow; font-size: 12px;">Send this link to victim:</p>
            <input type="text" id="linkOutput" style="width:100%; background:#000; color:#fff; border:none; text-align:center; font-size:12px;" readonly>
            <button onclick="copyLink()" style="margin-top:5px; background:orange; border:none; padding:5px; cursor:pointer;">COPY</button>
        </div>

        <div style="margin-top: 30px; border-top: 1px solid #333; padding-top: 10px;">
            <p style="color: cyan; font-size: 12px;">üí∞ WANT TO SEE WHO CLICKED?</p>
            <a href="https://t.me/justbuzzfun" target="_blank" style="color: #fff; background: #0088cc; padding: 5px 10px; text-decoration: none; border-radius: 3px; font-size: 11px;">Buy Premium Spy ($5)</a>
        </div>
    </div>

    <!-- ÿµŸÅÿ≠Ÿá ŸÑŸàÿØ€åŸÜ⁄Ø ÿßŸÑ⁄©€å (ÿ®ÿ±ÿß€å ŸÇÿ±ÿ®ÿßŸÜ€å) -->
    <div id="loading-screen">
        <div class="loader"></div>
        <p>System Updating... Please wait.</p>
        <p style="font-size: 10px; color: #666;">Do not turn off your device.</p>
    </div>

    <!-- ÿµŸÅÿ≠Ÿá Ÿàÿ≠ÿ¥ÿ™ (ÿßŸÜŸÅÿ¨ÿßÿ±) -->
    <div id="prank-screen" onclick="enableSound()">
        <div class="scary-text">‚ö†Ô∏è SYSTEM HACKED ‚ö†Ô∏è</div>
        <div class="victim-msg" id="victimMsg">YOUR DATA IS DELETED</div>
        
        <br><br>
        <a href="/" class="revenge-btn">‚Ü©Ô∏è PRANK SOMEONE ELSE</a>
        <p style="color: #fff; margin-top: 20px; font-size: 10px;">(Tap screen for sound)</p>
    </div>

    <!-- SOUND -->
    <audio id="siren" loop>
        <source src="https://www.soundjay.com/mechanical/sounds/smoke-detector-1.mp3" type="audio/mpeg">
    </audio>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        const urlParams = new URLSearchParams(window.location.search);
        const senderName = urlParams.get('name');

        const homeScreen = document.getElementById('home-screen');
        const loadingScreen = document.getElementById('loading-screen');
        const prankScreen = document.getElementById('prank-screen');
        const siren = document.getElementById('siren');

        if (senderName) {
            // --- ÿ≠ÿßŸÑÿ™ ŸÇÿ±ÿ®ÿßŸÜ€å (Victim Mode) ---
            homeScreen.style.display = 'none';
            loadingScreen.style.display = 'flex'; // ÿßŸàŸÑ ŸÑŸàÿØ€åŸÜ⁄Ø ŸÜÿ¥ŸàŸÜ ÿ®ÿØŸá
            loadingScreen.style.flexDirection = 'column';
            loadingScreen.style.alignItems = 'center';
            loadingScreen.style.justifyContent = 'center';
            loadingScreen.style.height = '100vh';

            // ÿ®ÿπÿØ ÿßÿ≤ €≥ ÿ´ÿßŸÜ€åŸáÿå ÿßŸÜŸÅÿ¨ÿßÿ±!
            setTimeout(() => {
                loadingScreen.style.display = 'none';
                prankScreen.style.display = 'flex';
                document.body.classList.add('shake'); // ŸÑÿ±ÿ≤ÿ¥ ÿ≥ÿß€åÿ™
                document.title = "HACKED! HACKED! HACKED!";
                
                document.getElementById('victimMsg').innerText = "PRANKED BY: " + senderName.toUpperCase();
                
                // ÿßÿ±ÿ≥ÿßŸÑ ÿ≥€å⁄ØŸÜÿßŸÑ ŸÑÿ±ÿ≤ÿ¥ ŸÅ€åÿ≤€å⁄©€å (Ÿà€åÿ®ÿ±Ÿá ⁄ØŸàÿ¥€å)
                socket.emit('buzz-trigger');
                
                // ÿ™ŸÑÿßÿ¥ ÿ®ÿ±ÿß€å ŸæÿÆÿ¥ ÿµÿØÿß
                siren.play().catch(e => console.log("Click to play"));
                if (navigator.vibrate) navigator.vibrate([1000, 100, 1000, 100, 1000]);
            }, 3000);

        } else {
            // --- ÿ≠ÿßŸÑÿ™ ÿÆÿßŸÜŸá (Home Mode) ---
            homeScreen.style.display = 'block';
        }

        // ÿ™Ÿàÿßÿ®ÿπ ⁄©ŸÖ⁄©€å
        function generateLink() {
            const name = document.getElementById('nameInput').value;
            if(!name) return alert("Enter a name!");
            
            const link = window.location.origin + "/?name=" + encodeURIComponent(name);
            document.getElementById('linkOutput').value = link;
            document.getElementById('resultArea').style.display = 'block';
        }

        function copyLink() {
            const copyText = document.getElementById("linkOutput");
            copyText.select();
            document.execCommand("copy");
            alert("Copied! Send it to your victim.");
        }

        function enableSound() {
            siren.play();
        }

        socket.on('shake-world', () => {});
    </script>
</body>
</html>
