<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MATRIX FUTURES SCANNER</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #000; color: #0f0; font-family: 'Orbitron', sans-serif; margin: 0; padding: 20px; overflow-x: hidden; }
        
        /* HEADER */
        .header { border-bottom: 2px solid #0f0; padding-bottom: 15px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: #000; z-index: 100; }
        .logo { font-size: 24px; font-weight: bold; letter-spacing: 2px; text-shadow: 0 0 10px #0f0; }
        .status { font-size: 12px; color: #666; }

        /* GRID */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; }

        /* CARD */
        .card { background: #050505; border: 1px solid #333; padding: 15px; border-radius: 5px; position: relative; transition: 0.3s; }
        .card-header { display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; margin-bottom: 10px; color: #fff; }
        
        .data-row { display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 5px; color: #888; }
        .val { color: #fff; font-weight: bold; }
        
        /* COLORS & ALERTS */
        .pump-alert { border: 2px solid #0f0; box-shadow: 0 0 20px rgba(0, 255, 0, 0.3); animation: pulse 1s infinite; order: -1; }
        .dump-alert { border: 2px solid #f00; box-shadow: 0 0 20px rgba(255, 0, 0, 0.3); animation: pulse 1s infinite; order: -1; }
        
        .positive { color: #0f0; }
        .negative { color: #f00; }
        .neutral { color: #888; }

        /* PROGRESS BAR (PUMP SCORE) */
        .score-bar { width: 100%; background: #222; height: 5px; margin-top: 10px; position: relative; }
        .score-fill { height: 100%; background: #0f0; width: 0%; transition: width 0.5s; box-shadow: 0 0 5px #0f0; }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
        
        #loading { text-align: center; margin-top: 50px; color: yellow; }
    </style>
</head>
<body>

    <div class="header">
        <div>
            <div class="logo">â˜¢ï¸ MATRIX SCANNER</div>
            <div class="status">MONITORING 100+ FUTURES PAIRS | OI & FUNDING ANALYSIS</div>
        </div>
        <div style="text-align: right;">
            <button onclick="toggleSound()" style="background:#222; color:#fff; border:1px solid #0f0; padding:5px 10px; cursor:pointer;">ğŸ”Š SOUND: ON</button>
        </div>
    </div>

    <div id="loading">INITIALIZING NEURAL NETWORK...</div>
    <div id="grid" class="grid"></div>

    <audio id="alertSound" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"></audio>

    <script>
        const grid = document.getElementById('grid');
        const loading = document.getElementById('loading');
        let soundEnabled = true;
        let pairs = [];

        // 1. Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ø§Ø±Ø²Ù‡Ø§ÛŒ ÙÛŒÙˆÚ†Ø±Ø² (Top Volume)
        async function init() {
            try {
                // Ø¯Ø±ÛŒØ§ÙØª Ù‡Ù…Ù‡ Ø¬ÙØªâ€ŒØ§Ø±Ø²Ù‡Ø§ÛŒ ÙÛŒÙˆÚ†Ø±Ø²
                const res = await fetch('https://fapi.binance.com/fapi/v1/ticker/24hr');
                const data = await res.json();
                
                // ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† Ùˆ Ø¨Ø±Ø¯Ø§Ø´ØªÙ† Û±Û°Û° ØªØ§ÛŒ Ø§ÙˆÙ„ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø­Ø¬Ù…
                pairs = data
                    .filter(p => p.symbol.endsWith('USDT') && parseFloat(p.quoteVolume) > 10000000) // Ø­Ø¬Ù… Ø¨Ø§Ù„Ø§ÛŒ Û±Û° Ù…ÛŒÙ„ÛŒÙˆÙ†
                    .sort((a, b) => parseFloat(b.quoteVolume) - parseFloat(a.quoteVolume))
                    .slice(0, 120); // Û±Û²Û° ØªØ§ÛŒ Ø§ÙˆÙ„

                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªÛŒ Ø§Ø±Ø²Ù‡Ø§ÛŒ Ø®Ø§Øµ Ø§Ú¯Ø± Ø¯Ø± Ù„ÛŒØ³Øª Ù†Ø¨ÙˆØ¯Ù†
                const specialCoins = ['PNUTUSDT', 'ACTUSDT', 'FILUSDT', '1000PEPEUSDT']; // 1000PEPE Ø§Ø³Ù… Ø¯Ù‚ÛŒÙ‚Ø´Ù‡ ØªÙˆ ÙÛŒÙˆÚ†Ø±Ø²
                specialCoins.forEach(coin => {
                    if (!pairs.find(p => p.symbol === coin)) {
                        // Ø§Ú¯Ù‡ Ù†Ø¨ÙˆØ¯ØŒ ÛŒÙ‡ Ø¢Ø¨Ø¬Ú©Øª ÙÛŒÚ© Ù…ÙˆÙ‚Øª Ù…ÛŒØ³Ø§Ø²ÛŒÙ… ØªØ§ Ø¨Ø¹Ø¯Ø§ Ø¯ÛŒØªØ§Ø´ Ø¢Ù¾Ø¯ÛŒØª Ø´Ù‡
                        pairs.push({ symbol: coin }); 
                    }
                });

                loading.style.display = 'none';
                startScanning();
            } catch (e) {
                loading.innerText = "CONNECTION FAILED. USE VPN.";
            }
        }

        // 2. Ø§Ø³Ú©Ù†Ø± Ø§ØµÙ„ÛŒ (Ø­Ù„Ù‚Ù‡ ØªÚ©Ø±Ø§Ø±)
        async function startScanning() {
            // Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª APIØŒ Ù†Ù…ÛŒØªÙˆÙ†ÛŒÙ… Ù‡Ù…Ù‡ Ø±Ùˆ ÛŒÚ©Ø¬Ø§ Ø¨Ú¯ÛŒØ±ÛŒÙ…. Ûµ ØªØ§ Ûµ ØªØ§ Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ….
            for (let i = 0; i < pairs.length; i++) {
                await analyzePair(pairs[i].symbol);
                // ØªØ§Ø®ÛŒØ± Ú©ÙˆÚ†Ú© Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¨Ù† Ø´Ø¯Ù† IP
                await new Promise(r => setTimeout(r, 150)); 
            }
            // Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ø² Ø§ÙˆÙ„
            setTimeout(startScanning, 5000);
        }

        // 3. ØªØ­Ù„ÛŒÙ„ Ù‡Ø± Ø§Ø±Ø²
        async function analyzePair(symbol) {
            try {
                // Ø¯Ø±ÛŒØ§ÙØª Ø¯ÛŒØªØ§ÛŒ Ø²Ù†Ø¯Ù‡: Ù‚ÛŒÙ…ØªØŒ ÙØ§Ù†Ø¯ÛŒÙ†Ú¯ØŒ OI
                // Ù…Ø§ Ø§Ø² Premium Index Ø¨Ø±Ø§ÛŒ ÙØ§Ù†Ø¯ÛŒÙ†Ú¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒÙ…
                const [tickerRes, oiRes, fundingRes] = await Promise.all([
                    fetch(`https://fapi.binance.com/fapi/v1/ticker/24hr?symbol=${symbol}`),
                    fetch(`https://fapi.binance.com/fapi/v1/openInterest?symbol=${symbol}`),
                    fetch(`https://fapi.binance.com/fapi/v1/premiumIndex?symbol=${symbol}`)
                ]);

                const ticker = await tickerRes.json();
                const oi = await oiRes.json();
                const funding = await fundingRes.json();

                // Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ù…Ø§ØªØ±ÛŒØ³
                const priceChange = parseFloat(ticker.priceChangePercent);
                const openInterest = parseFloat(oi.openInterest); // Ù…Ù‚Ø¯Ø§Ø± Ú©Ù„
                // (Ø¯Ø± ÙˆØ§Ù‚Ø¹ÛŒØª Ø¨Ø§ÛŒØ¯ ØªØºÛŒÛŒØ±Ø§Øª OI Ø±Ùˆ Ù†Ø³Ø¨Øª Ø¨Ù‡ Û± Ø³Ø§Ø¹Øª Ù¾ÛŒØ´ Ø¨Ú¯ÛŒØ±ÛŒÙ…ØŒ ÙˆÙ„ÛŒ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø±Ø§ÛŒ Ø³Ø±Ø¹Øª Ø§Ø² Ø­Ø¬Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒÙ…)
                const fundingRate = parseFloat(funding.lastFundingRate) * 100; // Ø¯Ø±ØµØ¯

                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ø§Ù†ÙØ¬Ø§Ø± (0 ØªØ§ 100)
                let score = 0;
                let signal = "NEUTRAL";
                let alertClass = "";

                // A. Ø´Ø±Ø· ÙØ§Ù†Ø¯ÛŒÙ†Ú¯ Ø±ÛŒØª (Ø³ÙˆØ®Øª Ù…ÙˆØ´Ú©)
                if (fundingRate < 0) score += 40; // ÙØ§Ù†Ø¯ÛŒÙ†Ú¯ Ù…Ù†ÙÛŒ = Ø§Ø­ØªÙ…Ø§Ù„ Ø´ÙˆØ±Øª Ø§Ø³Ú©ÙˆÛŒÛŒØ²
                else if (fundingRate > 0.05) score -= 20; // Ø®ÛŒÙ„ÛŒ Ù…Ø«Ø¨Øª = Ø®Ø·Ø± Ø¯Ø§Ù…Ù¾

                // B. Ø´Ø±Ø· ØªØºÛŒÛŒØ± Ù‚ÛŒÙ…Øª (Ø§Ù†Ø¨Ø§Ø´Øª)
                if (Math.abs(priceChange) < 3) score += 20; // Ù‚ÛŒÙ…Øª Ø±Ù†Ø¬ Ù…ÛŒØ²Ù†Ù‡ (ÙÙ†Ø± ÙØ´Ø±Ø¯Ù‡)
                
                // C. Ø´Ø±Ø· Open Interest (ÙˆØ±ÙˆØ¯ Ù¾ÙˆÙ„)
                // (Ø§ÛŒÙ†Ø¬Ø§ ÛŒÙ‡ Ù…Ù†Ø·Ù‚ Ø³Ø§Ø¯Ù‡ Ù…ÛŒØ°Ø§Ø±ÛŒÙ…: Ø§Ú¯Ù‡ Ø­Ø¬Ù… Ù†Ø³Ø¨Øª Ø¨Ù‡ Ù‚ÛŒÙ…Øª Ø®ÛŒÙ„ÛŒ Ø¨Ø§Ù„Ø§Ø³Øª)
                // Ø¯Ø± Ù†Ø³Ø®Ù‡ Ø³Ø±ÙˆØ±ÛŒ Ø¨Ø§ÛŒØ¯ Ø¯ÛŒØªØ§ÛŒ ØªØ§Ø±ÛŒØ®ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ….

                // Ù†ØªÛŒØ¬Ù‡ Ù†Ù‡Ø§ÛŒÛŒ
                if (score > 50) {
                    signal = "âš ï¸ PREPARING";
                    alertClass = "";
                }
                
                // Ø³ÛŒÚ¯Ù†Ø§Ù„ Ø·Ù„Ø§ÛŒÛŒ: ÙØ§Ù†Ø¯ÛŒÙ†Ú¯ Ù…Ù†ÙÛŒ + Ù‚ÛŒÙ…Øª Ø±Ù†Ø¬ = Ø§Ù†ÙØ¬Ø§Ø±
                if (fundingRate < 0 && Math.abs(priceChange) < 5) {
                    score = 95;
                    signal = "ğŸš€ EXPLOSION IMMINENT";
                    alertClass = "pump-alert";
                    playSound();
                }

                // Ø³ÛŒÚ¯Ù†Ø§Ù„ Ø±ÛŒØ²Ø´: ÙØ§Ù†Ø¯ÛŒÙ†Ú¯ Ø®ÛŒÙ„ÛŒ Ù…Ø«Ø¨Øª + Ù‚ÛŒÙ…Øª Ø¨Ø§Ù„Ø§ Ø±ÙØªÙ‡
                if (fundingRate > 0.1 && priceChange > 10) {
                    score = 10; // Ù‚Ø±Ù…Ø²
                    signal = "ğŸ©¸ DUMP WARNING";
                    alertClass = "dump-alert";
                }

                updateCard(symbol, ticker.lastPrice, priceChange, fundingRate, openInterest, score, signal, alertClass);

            } catch (e) {
                // console.log(e);
            }
        }

        // 4. Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ø±Øª
        function updateCard(symbol, price, change, funding, oi, score, signal, alertClass) {
            let card = document.getElementById(symbol);
            if (!card) {
                card = document.createElement('div');
                card.id = symbol;
                grid.appendChild(card);
            }

            // Ø±Ù†Ú¯ Ø¨Ù†Ø¯ÛŒ
            const changeColor = change >= 0 ? 'positive' : 'negative';
            const fundingColor = funding < 0 ? 'positive' : (funding > 0.01 ? 'negative' : 'neutral');

            card.className = `card ${alertClass}`;
            card.innerHTML = `
                <div class="card-header">
                    <span>${symbol.replace('USDT','')}</span>
                    <span class="${changeColor}">${change.toFixed(2)}%</span>
                </div>
                
                <div class="data-row">
                    <span>PRICE:</span> <span class="val">$${parseFloat(price)}</span>
                </div>
                <div class="data-row">
                    <span>FUNDING:</span> <span class="val ${fundingColor}">${funding.toFixed(4)}%</span>
                </div>
                <div class="data-row">
                    <span>OI (Contracts):</span> <span class="val">${(oi/1000).toFixed(1)}K</span>
                </div>

                <div style="margin-top:10px; font-weight:bold; color:${score > 80 ? '#0f0' : (score < 20 ? '#f00' : '#888')}">
                    STATUS: ${signal}
                </div>
                
                <div class="score-bar">
                    <div class="score-fill" style="width: ${score}%; background: ${score > 50 ? '#0f0' : '#f00'}"></div>
                </div>
            `;
            
            // Ø§Ú¯Ù‡ Ø¢Ù„Ø§Ø±Ù… Ø¯Ø§Ø±Ù‡ØŒ Ø¨Ø¨Ø±Ø´ Ø§ÙˆÙ„ Ù„ÛŒØ³Øª
            if (alertClass !== "") {
                card.style.order = "-1";
            } else {
                card.style.order = "0";
            }
        }

        function playSound() {
            if(soundEnabled) document.getElementById('alertSound').play().catch(()=>{});
        }
        
        function toggleSound() { soundEnabled = !soundEnabled; alert("Sound: " + soundEnabled); }

        init();
    </script>
</body>
</html>
